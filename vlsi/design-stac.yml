vlsi.inputs:
  power_spec_type: cpf
  power_spec_mode: manual
  power_spec_contents_meta: transclude
  power_spec_contents: ./stac.cpf
  supplies:
    # Hammer should only know about the main core power nets
    # Other pins/nets/domains handled in CPF
    power:
      - {name: "VDD",  pin: "VDD"}
    ground:
      - {name: "VSS",  pin: "VSS"}
    VDD: "1.8 V"
    GND: "0 V"

  top_module: ChipTop

  clocks:
    - {name: "clock_clock", period: "20ns", uncertainty: "1ns"} # temporary

  pin_mode: none

  placement_constraints:
    - path: ChipTop
      type: toplevel
      x: 0
      y: 0
      width: 3588
      height: 5188
      margins: {left: 249.78, right: 249.78, top: 252.08, bottom: 252.08}

design.def.hv_routing_meta: prependlocal
design.def.hv_routing: stac-hv-routing.def


# Library stuff

.local.library.sky130_fd_sc_hvl__lsbufhv2lv: &lib__sky130_fd_sc_hvl__lsbufhv2lv
  # gds_file: ${technology.sky130.sky130A}/libs.ref/sky130_fd_sc_hvl/gds/sky130_fd_sc_hvl.gds
  gds_file: /tools/commercial/skywater/skywater-pdk/libraries/sky130_fd_sc_hvl/latest/cells/lsbufhv2lv/sky130_fd_sc_hvl__lsbufhv2lv_1.gds
  lef_file: cache/fd_sc_hvl__lef/sky130_fd_sc_hvl__lsbufhv2lv_1.lef
  spice_file: ${technology.sky130.sky130A}/libs.ref/sky130_fd_sc_hvl/cdl/sky130_fd_sc_hvl.cdl
  verilog_sim: ${technology.sky130.sky130A}/libs.ref/sky130_fd_sc_hvl/verilog/sky130_fd_sc_hvl__lsbufhv2lv.functional.v
  provides:
    - lib_type: lvlshift
      vt: RVT

vlsi.technology.extra_libraries_meta: [append, lazydeepsubst]
vlsi.technology.extra_libraries:
  - library:
      <<: *lib__sky130_fd_sc_hvl__lsbufhv2lv
      nldm_liberty_file: ${technology.sky130.sky130A}/libs.ref/sky130_fd_sc_hvl/lib/sky130_fd_sc_hvl__ss_100C_1v65_lv1v60.lib
      corner:
        nmos: "slow"
        pmos: "slow"
        temperature: "100 C"
      supplies:
        VDD: "1.60 V"
        GND: "0 V"
  - library:
      <<: *lib__sky130_fd_sc_hvl__lsbufhv2lv
      nldm_liberty_file: ${technology.sky130.sky130A}/libs.ref/sky130_fd_sc_hvl/lib/sky130_fd_sc_hvl__ff_n40C_5v50_lv1v95_ccsnoise.lib
      corner:
        nmos: "fast"
        pmos: "fast"
        temperature: "-40 C"
      supplies:
        VDD: "1.95 V"
        GND: "0 V"
  - library:
      <<: *lib__sky130_fd_sc_hvl__lsbufhv2lv
      nldm_liberty_file: ${technology.sky130.sky130A}/libs.ref/sky130_fd_sc_hvl/lib/sky130_fd_sc_hvl__tt_025C_3v30_lv1v80.lib
      corner:
        nmos: "typical"
        pmos: "typical"
        temperature: "025 C"
      supplies:
        VDD: "1.80 V"
        GND: "0 V"
  - library:
      gds_file: ${technology.sky130.caravel}/gds/simple_por.gds
      lef_file: ${technology.sky130.caravel}/lef/simple_por.lef
      spice_file: ${technology.sky130.caravel}/spi/lvs/simple_por.spice # TODO: which netlist to actually use?
      verilog_sim: ${technology.sky130.caravel}/verilog/rtl/simple_por.v
      provides:
        - lib_type: por
          vt: RVT

vlsi.inputs.dont_use_mode: append
vlsi.inputs.dont_use_list_meta: append
vlsi.inputs.dont_use_list:
  - sky130_fd_sc_hvl__*
